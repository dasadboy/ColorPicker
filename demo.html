<!DOCTYPE html>
<html>
<head>
  <title>Color Picker Demo Page</title>

  <link rel="stylesheet" href="demo.css">
</head>
<body>
  <div id="twoBar" class="section">
    <div class="name">Two Bar</div>
    <div id="huePrev" class="display">Hue</div>
    <div id="brightPrev" class="display">Brightness + Hue</div>
  </div>
  <div id="twoBarHorizontal" class="section">
    <div class="name">Two Bar Horizontal</div>
    <div id="huePrev2" class="display">Hue</div>
    <div id="brightPrev2" class="display">Brightness + Hue</div>
  </div>
  <div id="threeBar" class="section">
    <div class="name">Three Bar</div>
    <div class="display">Red Bar</div>
    <div class="display">Green Bar</div>
    <div class="display">Blue Bar</div>
    <div class="display">Background</div>
  </div>
  <div id="threeBarHorizontal" class="section">
    <div class="name">Three Bar Horizontal</div>
    <div class="display">Red Bar</div>
    <div class="display">Green Bar</div>
    <div class="display">Blue Bar</div>
    <div class="display">Background</div>
  </div>
  <script src="misc.js"></script>
  <script src=colorpicker.js></script>
  <script>
  // Two Bar Picker
  (() => {
    const picker = new TwoBarPicker(null, null, null),
        twoBar = $("#twoBar");
    twoBar.prepend(picker.brightness.elem);
    twoBar.prepend(picker.hue.elem);

    const prevHue = color => {
      $("#huePrev").textContent = color;
    }

    const prevBrightness = color => {
      $("#brightPrev").textContent = color;
      twoBar.style.backgroundColor = color;
    }

    picker.bindListeners(prevBrightness, prevHue);
  })();

  // Horizontal Two Bar Picker
  (() => {
    const picker = new TwoBarPicker(null, null, true),
          twoBar = $("#twoBarHorizontal");
    twoBarHorizontal.prepend(picker.brightness.elem);
    twoBarHorizontal.prepend($create("br"));
    twoBarHorizontal.prepend(picker.hue.elem);

    const prevHue = color => {
      $("#huePrev2").textContent = color;
    }

    const prevBrightness = color => {
      $("#brightPrev2").textContent = color;
      twoBarHorizontal.style.backgroundColor = color;
    }

    picker.bindListeners(prevBrightness, prevHue);
  })();

  (() => {
    const picker = new ThreeBarPicker(null, null, null),
          threeBar = $("#threeBar"),
          displays = $$("#threeBarHorizontal .display");
    threeBar.prepend(picker.blue.elem);
    threeBar.prepend(picker.green.elem);
    threeBar.prepend(picker.red.elem);


    const prevRed = val => {
      displays[0].textContent = val;
    }

    const prevGreen = val => {
      displays[1].textContent = val;
    }

    const prevBlue = val => {
      displays[2].textContent = val;
    }

    const changeBg = color => {
      displays[3].textContent = color;
      threeBar.style.backgroundColor = color;
    }

    picker.bindListeners(changeBg, prevRed, prevGreen, prevBlue);
  })();

  (() => {
    const picker = new ThreeBarPicker(null, null, true),
          threeBar = $("#threeBarHorizontal"),
          displays = $$("#threeBarHorizontal .display");
    threeBar.prepend(picker.blue.elem);
    threeBar.prepend($create("br"));
    threeBar.prepend(picker.green.elem);
    threeBar.prepend($create("br"));
    threeBar.prepend(picker.red.elem);


    const prevRed = val => {
      displays[0].textContent = val;
    }

    const prevGreen = val => {
      displays[1].textContent = val;
    }

    const prevBlue = val => {
      displays[2].textContent = val;
    }

    const changeBg = color => {
      displays[3].textContent = color;
      threeBar.style.backgroundColor = color;
    }

    picker.bindListeners(changeBg, prevRed, prevGreen, prevBlue);
  })();
  </script>
</body>
</html>